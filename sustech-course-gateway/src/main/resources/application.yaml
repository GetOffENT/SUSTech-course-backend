server:
  port: 8080
spring:
  application:
    name: gateway-service
  profiles:
    active: dev
  cloud:
    nacos:
      server-addr: ${sustechcourse.cloud.nacos.server-addr}
    gateway:
      routes:
        - id: message-service
          uri: lb://message-service
          predicates:
            - Path=/email/**
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/user/**,/captcha/**
          filters:
            - Login
        - id: admin-service
          uri: lb://admin-service
          predicates:
            - Path=/admin/**
        - id: course-service
          uri: lb://course-service
          predicates:
            - Path=/course/**
        - id: interaction-service
          uri: lb://interaction-service
          predicates:
            - Path=/interaction/**
        - id: interaction-service-websocket
          uri: lb:ws://interaction-service
          predicates:
            - Path=/ws/**
          filters:
            - Websocket
        - id: resource-service
          uri: lb://resource-service
          predicates:
              - Path=/resource/**
      globalcors:
        cors-configurations:
          '[/**]':
            allowCredentials: true
            allowedOriginPatterns:
              - "http://localhost:9527"
              - "http://localhost:5173"
            allowedMethods: "*"
            allowedHeaders: "*"
        add-to-simple-url-handler-mapping: true
sustechcourse:
  jwt:
    location: classpath:jwt.jks
    alias: sustech-course
    password: sustech-course-123456
    tokenTTL: 30m
  auth:
    excludePaths:
      - /captcha/**
      - /email/**
      - /user/**
      - /admin/**
      - /course/**
      - /interaction/**
      - /ws/**
      - /hi
      - /resource/**
